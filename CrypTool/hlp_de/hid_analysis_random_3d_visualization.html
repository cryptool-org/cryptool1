<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<!-- Title of the help page (important for HTML help index) -->
<TITLE>Visualisierung von Zufallszahlen</TITLE>
<!-- Various styles -->
<link rel="stylesheet" type="text/css" href="CrypTool_Help.css">
<!-- Script to handle special links (for example file links -->
<script language="JScript" src="helper.js"></script>
</HEAD>

<!-- multiple keywords for CrypTool HTML help index -->
<OBJECT TYPE="application/x-oleobject" CLASSID="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e" VIEWASTEXT ID="Object1">
	<PARAM NAME="Keyword" VALUE="Phasenraumvisualisierung">
	<PARAM NAME="Keyword" VALUE="3D-Visualisierung">
	<PARAM NAME="Keyword" VALUE="Zufallszahlenvisualisierung">
</OBJECT>

<!-- alink for CrypTool HTML help -->
<Object type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e" VIEWASTEXT ID="Object2">
	<param name="ALink Name" value="ALink-Name">
</Object>

<BODY>

<h1>Visualisierung von Zufallszahlen</h1>
<p>
Zufallszahlen spielen eine wichtige Rolle in der Kryptographie, die dort
beispielsweise zur Erzeugung von Schlüsselmaterial verwendet werden.
Für die Beurteilung der Qualität von Zufallszahlen können verschiedene
Kriterien herangezogen werden - statistisch gute Zufallszahlen sind nicht
notwendigerweise auch kryptographisch sichere. Kann ein Angreifer eine
wie auch immer geartete Struktur innerhalb der Zahlenfolge ausnutzen, 
um ausgehend von bekannten Zahlen zukünftige Werte mit einer 
gewissen Wahrscheinlichkeit vorherzusagen, so sind die aus diesen 
Zufallszahlen erzeugten kryptographischen Schlüssel auf diese Weise angreifbar,
auch wenn der Kryptoalgorithmus an sich selbst sicher ist.
</p>
<p>
Für die Bewertung der Qualität von Zufallszahlen gibt es viele verschiedene
Kriterien und Tests, die in der Regel die zu Zahlenfolgen numerisch
analysieren und von denen einige auch in CrypTool implementiert sind.
</p>
<p>
Neben rein numerischen Methoden können Strukturen in Zahlenfolgen auch
grafisch dargestellt werden. CrypTool implementiert dazu die sogenannte
Phasenraumvisualisierung, die von Dan Kaminsky von 
<a href="http://www.doxpara.com/" target="_new">DoxPara</a> in dem Programm phentropy
umgesetzt wurde.
</p>
<h2>Phasenraumvisualisierung, Steuerung und Optionen</h2>
<p>
Die 3D-Analyse bezieht sich immer auf das CrypTool-Fenster, das bei
der Auslösung der 3D-Visualisierung aktiv war.
Nachdem alle Werte der Eingabedaten wie weiter unten beschrieben 
in 3D-Koordinaten übertragen wurden, wird der resultierende Kubus 
in einem eigenen
CrypTool-Fenster angezeigt. Der Kubus läßt sich beliebig drehen (linke Maustaste
und Mausbewegung) sowie 
skalieren (Shift, rechte Maustaste und Mausbewegung) und 
verschieben (rechte Maustaste und Mausbewegung).
</p>
<p>
Mit einem Rechtsklick in dem Fenster lassen sich die Anzeigeoptionen
verändern. <em>Box</em> schaltet die sogenannte Bounding-Box, also den
begrenzenden Rahmen um den Kubus ein und aus.
</p>
<p>
Unter <em>Eigenschaften</em> lassen sich die oben genannten Anzeigeoptionen
einstellen, die sich nach Schließen des Eigenschaftenfensters auf die
3D-Anzeige auswirken:
<dl>
  <dt><b>Auflösung</b></dt>
  <dd>Bestimmt die <em>logische Auflösung</em> des angezeigten Kubus. 
    Voreingestellt
    ist ein Wert von 128, was einer Auflösung von 128 * 128 * 128 Punkten
    entspricht. Höhere Auflösungen erlauben eine detailliertere Anzeige
    der Phasenraumanalyse, erfordern jedoch auch mehr Hauptspeicher und
    eine höhere Grafikleistung. Reduzieren Sie diesen Wert, falls Ihr
    Computer keine flüssige Grafikdarstellung zeigt.<br/>
    Die berechneten X-, Y- und Z- Koordinaten im Phasenraum werden 
    so skaliert, daß ihr
    Maximalwert dem hier eingestellten Wert entspricht. Es werden also
    in der Regel mehrere Koordinaten im Phasenraum in einen logischen Bildpunkt
    abgebildet.<br/>
    Die <em>physische Auflösung</em> des angezeigten Kubus auf dem Bildschirm
    ist abhängig von der Fenstergröße, die wie gewohnt durch 
    Ziehen am Rahmen verändert werden kann.
  </dd>
  <dt><b>Dichte</b></dt>
  <dd>Die Dichte bestimmt die Helligkeit der im Phasenraum gesetzten
    Punkte. Sobald eine Koordinate im 
    Kubus ermittelt wurde, wird die Helligkeit dieser Raumkoordinate um
    den eingestellten Dichtewert erhöht. Ist die Maximalhelligkeit 
    von 255 dieser Raumkoodinate erreicht, wird diese beibehalten. 
    Je geringer der eingestellte Dichte-Wert ist, desto dunkler, aber auch
    desto detaillierter ist die Darstellung.<br/>
    Bei einem Dichte-Wert von 127 wird die halbe Helligkeit des Raumpunktes 
    beim ersten Auftreten der Koordinate erreicht. Der fast maximale 
    Helligkeitswert 254 wird also bereits bei der zweiten Verarbeitung der 
    gleichen Koordinate erreicht.
    </dd>
  <dt><b>Verschiebung</b></dt>
  <dd>
    Alle berechneten Koordinaten werden vor der Anzeige um den 
    eingestellten Wert (bezogen auf die logische Auflösung) verschoben.
    Das bedeutet, daß z. B. bei einem Verschiebungswert von 50 % der
    Koordinatenursprung im Zentrum des Würfels liegt.
  </dd>
  <dt><b>Wortlänge</b></dt>
  <dd>
    Die zu analysierende Zahlenfolge wird als Aneinanderreihung 
    von Worten der Länge 1, 2 oder 4 Byte interpretiert. Die Wortlänge 
    ist für die Analyse selbst
    völlig willkürlich, beeinflußt aber die Ergebnisse der Phasenraumanalyse
    und deren räumliche Darstellung.
    Die Wahl der richtigen Wortlänge bei der Analyse einer bestimmten
    Eingabedatei hängt von der Art der zu verarbeitenden Daten ab: 
    Audiodaten im WAV-Format arbeiten beispielsweise mit Wortlängen von 
    2 Byte, Programmdaten von 32 Bit-Prozessoren mit 4 Byte Wortlänge.
  </dd>
</dl>

</p>

<h2>Phasenraumvisualisierung</h2>
<p>
Die Phasenraumvisualisierung in CrypTool arbeitet folgenderweise:<br/>
</p>
<h3>Koordinatenermittlung</h3>
<p>
In der Folge der aneinandergereihten Worte wird die Differenz jeweils 
zweier aufeinanderfolgender Worte berechnet und als Koordinate in einem
dreidimensionalen Raum interpretiert:</p>
<img src="images/phasenraum1.gif"/>
<p>
In diesem Beispiel beträgt die Wortlänge 1, es wird also die Differenz
zwischen benachbarten Einzelbytes der Eingangszahlenfolge berechnet.
Die Differenzbildung erfolgt modulo des Wertebereiches eines Wortes,
also 256 by Wortlänge 1, 65536 bei Wortlänge 2 und 4294967296 bei
Wortlänge 4.
</p>
<p>
Jeweils drei aufeinanderfolgende Differenzwerte werden nun als X-, Y- und 
Z-Koordinate in einem Kubus interpretiert, der eine Kantenlänge in 
Höhe des Wertebereichs des Wortes besitzt. Sobald ein solcher Punkt im
Raum bestimmt ist, wird die Helligkeit des zugehörigen Punktes um einen
festen Wert, die <em>Dichte</em> erhöht. In diesem Beispiel ergeben sich
die zwei Punkte P1 = (128, 40, 244) und P2 = (237, 209, 121).
</p>
<p>
Wird eine Wortlänge beispielsweise von 2 verwendet, bleibt das Verfahren der
Differenzbildung prinzipiell gleich, es werden jedoch zwei aufeinanderfolgende
Bytes der Eingabedaten als Wort (im 
<a href="http://de.wikipedia.org/wiki/Byte-Reihenfolge">Little-Endian-Format</a>)
interpretiert, das in die Differenzbildung eingeht:
</p>
<img src="images/phasenraum2.gif"/>
<p>
Der ermittelte Punkt hat hier die Koordinaten (7080, 48609, 62001).
</p>
<h3>Interpretation der Anzeige</h3>
<p>
Die Phasenraumvisualisierung ist geeignet, Strukturen in Datenströmen
darzustellen. Ein Strom echter Zufallszahlen erzeugt eine gleichmäßige
nebelartige Füllung des Kubus:
</p>
<img src="images/sc01-1.gif"/>
<p>
Lassen sich jedoch Punkte, Haufen, Linien
oder Ebenen erkennen, so ist dies ein Beleg dafür, daß die Eingabedaten
eine innere Struktur haben.
</p>
<p>
Besonders eindrucksvoll ist die Analyse von verschiedenen Dateitypen,
wie z. B. Programmdateien, Office-Dokumenten, PDF-Dateien, Bildern, 
Ton- oder Textdateien. In den meisten Datenformaten lassen sich 
charakteristische Muster erkennen. Die folgende Abbildung zeigt die
Visualisierung einer Windows System-DLL, in der Ebenen und Geraden 
zu erkennen sind.
</p>
<img src="images/sc06-1.gif"/>
<p>
Sind in einem Dokument viele gleichartige Werte (z. B. Nullbytes
in Programmdateien), so ist eine hohe Zahl der ermittelten Differenzen ebenfalls
Null, was in einer oder mehreren Null-Komponenten der ermittelten Koordinaten
resultiert. Ohne Verschiebung der angezeigten Koordinaten würde also eine
Häufung in einer Ecke des Kubus auffallen (um den Nullpunkt der drei Achsen
herum). Aus diesem Grund ist in den meisten Fällen eine Verschiebung der
angezeigten Koordinaten um die Hälfte des Maximalwertes sinnvoll: die
Häufungen um die 0 wandern damit in die Mitte des Kubus und formen auf diese
Weise oft markante geometrische Figuren, die sich so viel besser erkennen
lassen.
</p>
<h3>Grenzen der Analyse</h3>
<p>
Sind in einer Phasenraumvisualisierung deutliche Strukturen erkennbar,
so liegt mit Sicherheit keine wirkliche Zufallsverteilung vor. 
Der Umkehrschluß ist jedoch nicht gültig: eine gleichmäßige Füllung des
Raumes läßt nicht auf kryptographisch sichere Zufallszahlen schließen!
</p>
</BODY>
</HTML>
