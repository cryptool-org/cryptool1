<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<TITLE>BC (Arbitrary Precision Calculator)</TITLE>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1252">
<link rel="stylesheet" type="text/css" href="CrypTool_Help.css">
<script language="JScript" src="helper.js"></script>
</HEAD>

<BODY>

<!-- multiple keywords for CrypTool HTML help index -->
<OBJECT id="Object1" type="application/x-oleobject" classid="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e" VIEWASTEXT>
	<PARAM NAME="Keyword" VALUE="BC">
</OBJECT>

<h3>BC (Arbitrary Precision Calculator)</h3>

<P>bc is both a <B>programming language</B> that supports arbitrary precision numbers and an arbitrary precision desktop calculator (<B>command line utility</B>), which handles scripts and commands written in the language bc and interactively executes the statements from the user. This tool can be used to do number theoretical calculations with high speed and high precision.

bc is delivered together with the number theory <a href="hid_interactive_number_theory.html">educational program</a> <B>NT</B>.</P>

<P>The utility bc, an extended precision calculator, can compute to at least 99 places right of the decimal point and at least 4000 to the left.</P>

<P>A standard math library is available by command line option. bc starts by processing code from all the files listed on the command line in the order they are listed. After all files have been processed, bc reads from the standard input. All code is executed as it is read. (If a file contains a command to halt the processor, bc will never read from the standard input.)</P>

<P>Calling syntax:<br>bc [ -hlwsqv ] [long options] [ files ]</P>
<P>Sample call from bcmax.bat:<br>bc -lq prims.txt dislog.txt ecm.txt quadRest.txt seed</P>


<br>
<P><B>BC and the Educational Software "<a href="hid_interactive_number_theory.html">Number Theory (NT)</a>" -- Distributed with CrypTool 1</B></P>

<P>Part of the distribution of the educational tool "Number Theory" is the command line calculator, <a href="http://en.wikipedia.org/wiki/Basic_Calculator">bc</a> (version 1.06, published by Free Software Foundation under <a href="hidd_tipps_and_tricks.html#opensource">GPL</a>), supplemented with some functions loaded via bcmax.bat when starting bc (via F3 from the educational tool).</P>



<br>
<P><B>General remark on bc</B></P>

<P>The most basic element in bc is the number. Numbers are arbitrary precision numbers. This precision is both in the integer part and the fractional part. All numbers are represented internally in decimal and all computation is done in decimal. There are two attributes of numbers, the length and the scale. The length is the total number of significant decimal digits in a number and the scale is the total number of decimal digits after the decimal point.
<br>
For example:<br>
.000001 has a length of 6 and scale of 6<br>
1935.000 has a length of 7 and a scale of 3.</P>



<br>
<P><B>bc as command line calculator</B></P>

<P><B>1)</B> Here some simple inputs and calculations within bc.</P>
<P class="paddedleft">3*5<br>15</P>
<P class="paddedleft">5+3^2<br>14</P>
<P class="paddedleft">a=10; a+2; b=a; b+7<br>12<br>17</P>
<P class="paddedleft">sqrt(4.5)<br>2.1</P>


<P><B>2)</B> For whole numbers bc can deal with different <B>bases</B>. The input base is stored in the environment variable <b>ibase</b>. Setting conversion bases means, bc inputs ALL following numbers using <b>ibase</b>. The output base is stored in <b>obase</b>.</P>

<P>Sample: To convert 4521 from base 7 to base 13, you have to enter:
<P class="paddedleft">obase = 13; ibase = 7; 4521<br>987</P>

<P>Sample: Conversion from the decimal to the hexadecimal number system:</P>
<P class="paddedleft">obase=16; ibase=10; 13<br>B</P>

<P>Sample: Conversion from the decimal to the binary number system:</P>
<P class="paddedleft">obase=2; ibase=10; 13<br>1101</P>


<P>A typical mistake, as there is no command to set back ibase to its default value 10: Both samples above deliver the shown result, if bc is started newly before calling them.
If you call both command lines consecutively after each other, the input for obase and ibase in the second line are still considered to be of base 7, and you get as result A instead of D.</P>


<P><B>3)</B> For <B>fractional precision</B> of the calculation bc deals with the environment variable <b>scale</b>, which means the precision of floating points, which is how many digits after the point. By default the <B>scale</B> is 0, that means it is integer. The result of division will usually be a floating point number. In order to get the correct answer, you need to specify the variable <b>scale</b>. <b>scale</b> means the precision of floating point. In "5.00500" the <b>scale</b> is 5; in "5.005" the <b>scale</b> is 3. Some implementations also output one digit more (see below).</P>

<P>Samples:</P>
<P class="paddedleft">scale=6;  60/7.02<br>6.6476776</P>
<P class="paddedleft">obase=10; ibase=10; scale=0; 7/3<br>2</P>
<P class="paddedleft">obase=10; ibase=10; scale=3; 7/3<br>2.2523</P>


<P><b>4)</b> To do calculations with bc there are three possibilities:</P>

<UL>
<LI>Execute scripts, given to bc as argument at the command line,</LI>
<LI>Type a terms after starting bc, or</LI>
<LI>Passing the term through pipeline, such as in the following samples:<br>
    echo "56.8 + 77.7" | bc<br>echo "obase=16; ibase=10; 56" | bc</LI>
</UL>

<P>At the input mode of bc you can repeat the last statement using the vertical arrow keys on the keyboard, and then edit it.</P>

<P>To get the value of an environment variable: Just enter the name of the variable and enter.</P>



<br>
<P><B>Further sample calculations using bc</B></P>

<P>You can call bc from within the educational program "Number Theory" via F3 (menu Calculators \ BC Calculator) or from the command prompt:</P>

<P class="paddedleft">bc</P>
<P>Enter: 686^79:</P>
<P class="paddedleft">686^79<br>117382982726682578986166177099458354591354816385525364361499835772376409385660129455427115381646910282753710610818762831176373701406457183724515147357457376424117782495278817923488619922286175976292059037752989068589810057216<br>quit</P>

<P>Description for further functions transferred via the educational program "Number Theory" are available within the educational program via F8 (menu Glossaries \ BC Functions).</P>
<P class="paddedleft">powermod(17,33,11)<br>7</P>
<p class="paddedleft">euklid(847,22)<br>11</p>



<br>
<P><B>Remark 1: bc as a programming language</B></P>

<P>bc is a programming language, which supports calculations (numeric processing) in an arbitrary precision. Its description is included in the POSIX P1003.2/D11 draft standard.</P>

<P>The syntax is similar to "C" – with the following (and more) exceptions:</P>
<ol>
<LI>No semicolon is needed at the end of a line.</LI>
<LI>The define statement is used to define functions.</LI>
</ol>

<P>Other features of the bc program are:</P>
<UL>
<LI>Control statements are if, while, for, break, and quit.</LI>
<LI>Comments are between /* ...... */  or after the „#“ character.</LI>
<LI>Arrays use square brackets [ ] for indexes.</LI>
<LI>quit  returns to the shell.</LI>
<LI>Restrictions: bc cannot read or print numbers in scientific represenationlike 1.3e17. For integers the internal function "length" only shows the number of digits of the internal representation (decimal system) -- bc can't deliver directly the length of the number in another basis (e.g. as binary number).</LI>
</UL>

<P>Here some more examples:</P>
<P class="paddedleft">define d(n) { return (2*n); }; d(6) # Definition of a function<br>12</P>

<P class="paddedleft">l(100)/l(10) # Natural log (load the math lib before via bc -l in order to have the function "l")<br>2.00000000000000000000</P>

<P class="paddedleft">/* Sample of a sum function via a for loop: */ sum=0; for(i=16;i>=0;i--)sum+=32*(256^i); sum<br>10931737842416972128203783466984490934304</P>

<P>Factorial defined according to <a href="http://progopedia.com/example/factorial/243/" target="_blank">http://progopedia.com/example/factorial/243/</a></P>

<P class="paddedleft">define factorial(n) {<br>
    if (n == 0) return(1);<br>
    return(n * factorial(n - 1));<br>
}<br>
for (n = 0; n <= 16; n++) {<br>
    print n; "! = "; factorial(n);<br>
}
<br>
0! = 1<br>
1! = 1<br>
2! = 2<br>
3! = 6<br>
4! = 24<br>
5! = 120<br>
6! = 720<br>
7! = 5040<br>
8! = 40320<br>
9! = 362880<br>
10! = 3628800<br>
11! = 39916800<br>
12! = 479001600<br>
13! = 6227020800<br>
14! = 87178291200<br>
15! = 1307674368000<br>
16! = 20922789888000<br></P>


<P class="paddedleft">n=26; n; a=factorial(n); a; al1=length(a); al1; obase=2; ibase=10; a; obase=2; ibase=2; a; al2=length(a); al2; obase=10; ibase=10; al2; ibase=1010; al2;obase=10; ibase; obase; al2<br>26<br>
403291461126605635584000000<br>
27<br>
10100110110011000010010011110101000110111111011101010110010010001100\<br>
000000000000000000000<br>
10100110110011000010010011110101000110111111011101010110010010001100\<br>
000000000000000000000<br>
11011<br>
11011<br>
11011<br>
10<br>
10<br>
27<br>
</P>


<P>Make own enhancements like in <a href="http://x-bc.sourceforge.net/extensions_bc.html" target="_blank">http://x-bc.sourceforge.net/extensions_bc.html</a></P>
   




<br>
<P><B>Remark 2: links</B></P>

<P><a href="http://directory.fsf.org/gnu/bc.html" target="_blank">http://directory.fsf.org/gnu/bc.html</a> -- Web page about the GNU package</P>
<P><a href="http://www.gnu.org/software/bc/bc.html" target="_blank">http://www.gnu.org/software/bc/bc.html</a> -- Web page about BC</P>
<P><a href="http://ftp.gnu.org/pub/gnu/bc/bc-1.06.tar.gz" target="_blank">http://ftp.gnu.org/pub/gnu/bc/bc-1.06.tar.gz</a> -- Source code, released 2001</P>
<P><a href="http://en.wikipedia.org/wiki/Bc_(Unix)" target="_blank">http://en.wikipedia.org/wiki/Bc_(Unix)</a> -- Wikipedia about bc</P>
<P><a href="http://de.wikipedia.org/wiki/Basic_Calculator" target="_blank">http://de.wikipedia.org/wiki/Basic_Calculator</a> -- Wikipedia about bc</P>

<P><a href="https://www.gnu.org/software/bc/manual/html_mono/bc.html" target="_blank">https://www.gnu.org/software/bc/manual/html_mono/bc.html</a></P>
<P><a href="http://www.basicallytech.com/blog/archive/23/command-line-calculations-using-bc/" target="_blank">http://www.basicallytech.com/blog/archive/23/command-line-calculations-using-bc/</a></P>
<P><a href="https://www.mkssoftware.com/docs/man1/bc.1.asp" target="_blank">https://www.mkssoftware.com/docs/man1/bc.1.asp</a></P>
<P><a href="http://www.unixmantra.com/2013/05/bc-unix-calculator.html" target="_blank">http://www.unixmantra.com/2013/05/bc-unix-calculator.html</a></P>


<P><a href="http://progopedia.com/language/bc/" target="_blank">http://progopedia.com/language/bc/</a></P>

<P><a href="https://stackoverflow.com/questions/12882611/how-to-get-bc-to-handle-numbers-in-scientific-aka-exponential-notation" target="_blank">https://stackoverflow.com/questions/12882611/how-to-get-bc-to-handle-numbers-in-scientific-aka-exponential-notation</a> -- Input in scientific notation</P>



<br>
<P><B>Remark 3: bc and SageMath</B></P>

<P> bc 1.06 is the last version of bc, released by FSF in 2000. There seems to be no further development.
In the meantime, <a href="http://www.sagemath.org/" target="_blank">SageMath</a> offers a much broader and more mature scope of work.</P>

<p>An overview about SageMath can be found in appendix A.7 of the <A class="filelink" onclick="parser('CT-Book-en.pdf')">CT Book</a>.</p>

<br>

</BODY>
</HTML>

