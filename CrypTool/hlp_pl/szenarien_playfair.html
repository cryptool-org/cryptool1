<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=Windows-1250">
<TITLE>Przyk³ad ilustruj¹cy dzia³anie szyfru Playfair</TITLE>
<link rel="stylesheet" type="text/css" href="CrypTool_Help.css">
</HEAD>

<!-- multiple keywords for CrypTool HTML help index -->
<OBJECT TYPE="application/x-oleobject" CLASSID="clsid:1e2a7bd0-dab9-11d0-b93a-00c04fc99f9e" VIEWASTEXT ID="Object1">
	<PARAM NAME="Keyword" VALUE="Examples/Scenarios">
	<PARAM NAME="Keyword" VALUE="Encryption">
	<PARAM NAME="Keyword" VALUE="Playfair encryption algorithm">
</OBJECT>

<BODY>

<h3>Przyk³ad ilustruj¹cy dzia³anie szyfru Playfair</h3>

<P>Ten rozdzia³ zawiera <A href="hid_hilfe_szenarien.html">przyk³ad</A> ilustruj¹cy u¿ycie <A href="hid_playfair_bin.html">szyfru Playfair</A>. Aby u³atwiæ œledzenie tego przyk³adu, a tak¿e umo¿liwiæ samodzielnie wykonywanie wszystkich operacji krok po kroku za pomoc¹ <!--ZZZPOPUP--><A href="cryptool.html">CrypTool'a</A>, zawiera on liczne zrzuty ekranu.</P>

<P>Rozpoczniemy poznawanie dzia³ania <A href="hid_playfair_bin.html">szyfru Playfair</A> od otworzenia <!--ZZZPOPUP--><A href="dokument.html">dokumentu</A>, zaszyfrowania go, a potem odszyfrowania. Spróbujemy tak¿e znaleŸæ klucz, który zosta³ u¿yty do zaszyfrowania tekstu jawnego u¿ywaj¹c krok po kroku Analizy Manualnej Playfair.</P>

<P><B>Szyfrowanie Playfair</B></P>

<P>Jako takst jawny pos³u¿y nam dokument <CODE>CrypTool-de.txt</CODE> zawierajacy czêœæ pliku pomocy w jêzyku niemieckim. Otwieramy go poprzez menu <A href="menu_file.html">Plik</A> \ <A href="hid_file_open.html">Otwórz</A>.</P>

<P><IMG SRC="images/playfairplaintext.gif" ALT="playfairplaintext.gif" BORDER=0></P>

<P><!--ZZZPOPUP--><A href="verschluesselung.html">Szyfrujemy</A> dokument u¿ywaj¹c <A href="hid_playfair_bin.html">szyfru Playfair</A>. Aby otworzyæ przedstawione na poni¿szym obrazku okno dialogowe wybieramy z menu <A href="menu_crypt.html">Szyfrowanie</A> \ Historyczne \ Playfair. Do szyfrowania u¿ywamy klucza PEGASOS.</P>

<P><IMG SRC="images/playfairkeydialog.gif" ALT="playfairkeydialog.gif" BORDER=0></P>

<P>Przy pomocy klucza generowana jest macierz kluczy Playfair:</P>

<div style="text-align:center">

<TABLE cols=5 width="0*" class="pad10">

<TR VALIGN="top">
<TD>P</TD>
<TD>E</TD>
<TD>G</TD>
<TD>A</TD>
<TD>S</TD>
</TR>

<TR VALIGN="top">
<TD>O</TD>
<TD>B</TD>
<TD>C</TD>
<TD>D</TD>
<TD>F</TD>
</TR>

<TR VALIGN="top">
<TD>H</TD>
<TD>I</TD>
<TD>K</TD>
<TD>L</TD>
<TD>M</TD>
</TR>

<TR VALIGN="top">
<TD>N</TD>
<TD>Q</TD>
<TD>R</TD>
<TD>T</TD>
<TD>U</TD>
</TR>

<TR VALIGN="top">
<TD>V</TD>
<TD>W</TD>
<TD>X</TD>
<TD>Y</TD>
<TD>Z</TD>
</TR>
</TABLE><BR>

</div>

<P>Naciœniêcie przycisku <B>Szyfruj</B> powoduje zamkniêcie okna dialogowego z kluczem oraz otwarcie dwóch nowych okien: jednego z pre-formatowanym tekstem jawnym i drugiego z zaszyfrowanym tekstem:</P>

<P><IMG SRC="images/playfairpreformatandencryption.gif" ALT="playfairpreformatandencryption.gif" BORDER=0></P>

<UL>
	<LI>etap pre-formatowania usuwa wszystkie znaki z tekstu jawnego, które nie s¹ czêœci¹ alfabetu Playfair oraz wstawia znak X pomiêdzy dwa identyczne znaki z rzêdu. Na przyk³ad tekst <B><CODE>CrypTool ist</CODE></B> (niemieckie: crypTool jest...) zostanie pre-formatowane do ci¹gu <B><CODE>CRYPTOXOLIST</CODE></B></LI>
	<LI>Korzystaj¹c z macierzy kluczy Playfair, tekst pre-formatowany jest nastêpnie szyfrowany. Ka¿dy dygram, czyli para liter, okreœla w macierzy kluczy pewien prostok¹t. Prostok¹t jest <I>jednowymiarowy</I>, gdy oba znaki le¿¹ w tym samym wierszu lub kolumnie macierzy kluczy. Zaszyfrujmy teraz pre-formatowany tekst <B><CODE>CRYPTOXOLIST</CODE></B>. Poni¿sza tabela przedstawia dygramy, odpowiadaj¹ce im prostok¹ty oraz otrzymane zaszyfrowane dygramy.</LI>
</UL>

<div style="text-align:center">

<TABLE cols=4 width="0*" class="pad10" >

<TR VALIGN="top">
<TD>tekst jawny</TD>
<TD>&nbsp;</TD>
<TD>&nbsp;</TD>
<TD>zaszyfrowane</TD>
</TR>

<TR VALIGN="top">
<TD>dygram</TD>
<TD>prostok¹t</TD>
<TD>wymiar</TD>
<TD>dygram </TD>
</TR>

<TR VALIGN="top">
<TD>CR</TD>
<TD>C,K,R,X</TD>
<TD>1</TD>
<TD>KX</TD>
</TR>

<TR VALIGN="top">
<TD>YP</TD>
<TD>Y,V,P,A</TD>
<TD>2</TD>
<TD>VA</TD>
</TR>

<TR VALIGN="top">
<TD>TO</TD>
<TD>T,N,O,D</TD>
<TD>2</TD>
<TD>ND</TD>
</TR>

<TR VALIGN="top">
<TD>XO</TD>
<TD>X,V,O,C</TD>
<TD>2</TD>
<TD>VC</TD>
</TR>

<TR VALIGN="top">
<TD>LI</TD>
<TD>L,M,I,K</TD>
<TD>1</TD>
<TD>MK</TD>
</TR>

<TR VALIGN="top">
<TD>ST</TD>
<TD>S,A,T,U</TD>
<TD>2</TD>
<TD>AU</TD>
</TR>
</TABLE><BR>

</div>

<P>Dla dwuwymiarowego prostok¹ta wyliczamy wierzcho³ki nastêpuj¹co: zaczynamy od pierwszej litery tekstu jawnego, potem wybieramy wierzcho³ek le¿¹cy w tym samym wierszu, potem drugi znak z tekstu jawnego. Ostatni znak to pozosta³y wierzcho³ek.<BR>
Dla jednowymiarowego prostok¹ta tak¿e zaczynamy od pierwszego znaku tekstu jawnego. Kolejny znak to znak nastêpny (po prawej, b¹dŸ na dole) w wierszu b¹dŸ kolumnie wyznaczonej przez znaki dygramu. Kolejny znak to druga litera dygramu, a ostatni, nastêpny znak (po prawej, b¹dŸ na dole, w zale¿noœci, czy prostok¹d by³ wierszowy czy kolumnowy).<BR>
<BR>
Drugi i czwarty znak wyznaczaj¹cy wierzcho³ki prostok¹ta stanowi zaszyfrowany dygram. W przyk³adzie wy¿ej, bêdzie to <CODE>KXVANDVCMKAU</CODE>.</P>

<P><B>Deszyfrowanie Playfair</B></P>

<P>Odtworzymy teraz tekst jawny z dokumentu zaszyfrowanego w poprzednim kroku. Wybieramy <A href="menu_crypt.html">Szyfrowanie</A> \ Historyczne \ Playfair i wprowadzamy klucz (PEGASOS).</P>

<P><IMG SRC="images/dialogplayfairdecryption.gif" ALT="dialogplayfairdecryption.gif" BORDER=0></P>

<P>Teraz naciskamy przycisk <B>Deszyfruj</B>, aby odzyskaæ tekst jawny.</P>

<P><B>Analiza manualna szyfru Playfair</B></P>

<P>Spróbujemy teraz zdeszyfrowaæ przy pomocy CrypTool'a, przyk³adowy tekst zaszyfrowany szyfrem Playfair. Aby to zrobiæ, otwieramy tekst do zdeszyfrowania z pliku <CODE>Playfair-enc-de.txt</CODE>:</P>

<P><IMG SRC="images/szenarioplayfair1.gif" ALT="szenarioplayfair1.gif" BORDER=0></P>

<P>Tekst ten zosta³ stworzony za pomoc¹ <A href="hid_playfair_bin.html">szyfru Playfair</A> bez pre-formatowania: taka opcja pozostawia znaki, które nie zawieraj¹ siê w alfabecie Playfair, jako niezaszyfrowane (np. spacje, znaki interpunkcyjne i znaki nowej linii), tak¿e wyraŸnie mo¿na rozró¿niæ s³owa i zdania. Opcja ta powstrzymuje wstawianie miêdzy dwa jednakowe znaki separatora X i pozostawia takie znaki jako niezaszyfrowane.</P>

<P>CrypTool wspiera tylko pó³automatyczn¹ analizê szyfru Playfair. Dlatego potrzebujemy pewnych wskazówek odnoœnie dokumentu, który analizujemy. Przyjmijmy, ¿e tekst ten, to niemiecki list, który czêsto zaczyna siê takim samym zwrotem.</P>

<P>Otwieramy okno Analiza Playfair wybieraj¹c z menu: <A href="menu_analyze.html">Kryptoanaliza</A> <A href="hid_analyse_playfair.html">\ Algorytmy historyczne \ Analiza manualna \ Playfair</A>.</P>

<P><IMG SRC="images/szenarioplayfair2.gif" ALT="szenarioplayfair2.gif" BORDER=0></P>

<P>List prawdopodobnie zaczyna siê od zwrotu <B><CODE>Sehr geehrte Damen und Herren</CODE></B> (<I>Szanowni Pañstwo</I>).</P>

<P>Wprowadzamy ten zwrot w polu zatytu³owanym <B>Oczekiwany tekst jawny</B>. Po wprowadzeniu kolejnych znaków tablica <B>Informacja literowa</B> jest uaktualniana.</P>

<P>Mamy ju¿ okreœlonych parê dygramów: </P>

<div class="indent">

<TABLE cols=2 width="0*" class="pad20" style="text-align:center">

<TR VALIGN="top">
<TD>SE  &gt;  TG
<P>HR  &gt;  IG</P>

<P>GE  &gt;  HR</P>

<P>EH  &gt;  RI</P>

<P>RT  &gt;  EF</P>

<P>ED  &gt;  RX</P>
</TD>
<TD>AM  &gt;  VN
<P>EN  &gt;  IX</P>

<P>UN  &gt;  AX</P>

<P>DH  &gt;  LR</P>

<P>ER  &gt;  RG</P>

<P>RE  &gt;  GR</P>
</TD>
</TR>
</TABLE><BR>

</div>

<P>Naciœniêcie przycisku <B>Stwórz macierz</B> powoduje stworzenie macierzy kluczy Playfair, bazuj¹cej na wprowadzonych informacjach.</P>

<P><IMG SRC="images/szenarioplayfair3.gif" ALT="szenarioplayfair3.gif" BORDER=0></P>

<P>Poka¿emy teraz jak wygenerowaæ komplent¹ macierz kluczy manualnie, bazuj¹c na odgadniêtych fragmentach tekstu jawnego oraz regu³ach szyfru Playfair.</P>

<UL>
	<LI>Z ER &gt; RG mo¿na wnioskowaæ, ¿e sekwencja ERG musi znajdowaæ siê w kolumnie b¹dŸ wierszu. Za³ó¿my, ¿e wystêpuje w kolumnie, wtedy RT &gt; EF, T oraz F musz¹ znajdowaæ siê w tej samej kolumnie oraz z GE &gt; HR, H równie¿ musi siê w mniej znajdowaæ. To daje w sumie 6 znaków, co jest za du¿¹ liczb¹. Dlatego ERG musi wystêpowaæ w wierszu.</LI>

	<LI>Z EH &gt; RI, I musi wystêpowaæ w tym samym wierszu, podobnie H (GE &gt; HR). WprowadŸmy wiêc ERGHI na przyk³ad w ostatnim wierszu macierzy (sekwencja HI jest poprawna, bo EH &gt; RI).</LI>

	<LI>Mo¿emy dodaæ teraz trochê wiêcej liter, dok³adnie: DL, NX, DX, TF, ST, UA:</LI>
</UL>

<div style="text-align:center">

<TABLE cols=5 width="0*" class="pad10">

<TR VALIGN="top">
<TD>*</TD>
<TD>*</TD>
<TD>*</TD>
<TD>*</TD>
<TD>*</TD>
</TR>

<TR VALIGN="top">
<TD>F</TD>
<TD>S</TD>
<TD>*</TD>
<TD>*</TD>
<TD>T</TD>
</TR>

<TR VALIGN="top">
<TD>*</TD>
<TD>*</TD>
<TD>*</TD>
<TD>A</TD>
<TD>U</TD>
</TR>

<TR VALIGN="top">
<TD>D</TD>
<TD>*</TD>
<TD>L</TD>
<TD>N</TD>
<TD>X</TD>
</TR>

<TR VALIGN="top">
<TD>R</TD>
<TD>G</TD>
<TD>H</TD>
<TD>I</TD>
<TD>E</TD>
</TR>
</TABLE><BR>

</div>



<P>Wiedz¹c, ¿e dygram AM przechodzi na VN, AM &gt; VN, mo¿emy rozsze¿yæ macierz, poniewa¿ jest tylko jedna pozycja w czwartym wierszu na której mo¿e znaleŸæ siê znak M: </P>

<div style="text-align:center">

<TABLE cols=5 width="0*" class="pad10">

<TR VALIGN="top">
<TD>*</TD>
<TD>*</TD>
<TD>*</TD>
<TD>*</TD>
<TD>*</TD>
</TR>

<TR VALIGN="top">
<TD>F</TD>
<TD>S</TD>
<TD>*</TD>
<TD>*</TD>
<TD>T</TD>
</TR>

<TR VALIGN="top">
<TD>*</TD>
<TD>V</TD>
<TD>*</TD>
<TD>A</TD>
<TD>U</TD>
</TR>

<TR VALIGN="top">
<TD>D</TD>
<TD>M</TD>
<TD>L</TD>
<TD>N</TD>
<TD>X</TD>
</TR>

<TR VALIGN="top">
<TD>R</TD>
<TD>G</TD>
<TD>H</TD>
<TD>I</TD>
<TD>E</TD>
</TR>
</TABLE><BR>

</div>

<P>Przycisk <B>Synchronizuj rezultaty analizy z oczekiwanym tekstem jawnym</B> uaktualnia pole tekstowe z tekstem jawnym. Tworzony jest opis zazuj¹cy na czêœciowo stworzonej macierzy. Znaki które nie mog¹ (jeszcze) byæ zdeszyfrowane s¹ oznaczone gwiazdk¹ '<B><CODE>*</CODE></B>‘ i mog¹ byæ zastêpowane przez zgadywanie.</P>

<P>Uwagê zwraca sekwencja <B><CODE>E**.*IEMLI**</CODE></B> (przynajmniej osobom znaj¹cym trochê niemiecki). Jeœli uzupe³nimy to do <B><CODE>EIN.ZIEMLICH</CODE></B> kolejne dwa dygramy zostan¹ zmapowane na ich zaszyfrowane odpowiedniki: IN &gt; BO and CH &gt; HK. Korzystaj¹c z poprzedniej macierzy oraz z pierwszego dygramu, mo¿na wnioskowaæ, ¿e znaki I,N,B,O musz¹ byæ w tej samej kolumnie: B bezpoœrednio pod I, a O pod N. Klikniêcie na <B>Stwórz macierz</B> zamieni wiersze drugi i czwarty, a potem drugi i trzeci itd. skutkuj¹c otrzymaniem takiej macierzy kluczy:</P>

<div style="text-align:center">

<TABLE cols=5 width="0*" class="pad10">

<TR VALIGN="top">
<TD>*</TD>
<TD>*</TD>
<TD>*</TD>
<TD>K</TD>
<TD>B</TD>
</TR>

<TR VALIGN="top">
<TD>U</TD>
<TD>Z</TD>
<TD>*</TD>
<TD>*</TD>
<TD>A</TD>
</TR>

<TR VALIGN="top">
<TD>X</TD>
<TD>D</TD>
<TD>M</TD>
<TD>L</TD>
<TD>N</TD>
</TR>

<TR VALIGN="top">
<TD>T</TD>
<TD>F</TD>
<TD>S</TD>
<TD>C</TD>
<TD>O</TD>
</TR>

<TR VALIGN="top">
<TD>E</TD>
<TD>R</TD>
<TD>G</TD>
<TD>H</TD>
<TD>I</TD>
</TR>
</TABLE><BR>

</div>

<P>Niestety deszyfracja bezuj¹ca na tej macierzy skutkuje otrzymaniem s³ów, które nie istniej¹ w jêzyku niemieckim: </P>

<div class="indent">

<P><B><CODE>SEHR.GEEHRTE.DAMEN.UND.HERREN...EIN.ZIEMLICH.<BR>
GEHEIMER.*X**.BLEIOT.NICH*.IMMER.**NGE.GEHEIM..<BR>
MI*.*DXUNDLICHEN.GRUX**EN</CODE></B></P>

</div>

<P>Jednak¿e mo¿emy teraz zgadywaæ tekst jawny z du¿ym prawdopodobieñstwem, z wyj¹tkiem s³owa <B><CODE>*X**</CODE></B>, które poprawiamy do <B><CODE>****</CODE></B> (aby unikn¹æ konfliktów). Teraz poprawiamy pozosta³e s³owa:</P>

<div class="indent">

<P><CODE>SEHR.GEEHRTE.DAMEN.UND.HERREN...EIN.ZIEMLICH.<BR>
GEHEIMER.*<B>*</B>**.BLEI<B>B</B>T.NICH<B>T</B>.IMMER.<B>LA</B>NGE.GEHEIM..<BR>
MI<B>T</B>.<B>FRE</B>UNDLICHEN.GRU<B>ESS</B>EN</CODE></P>

</div>

<P>Skutkuje to trzymaniem nastêpuj¹cego mapowania dygramów: BT &gt; TF, TI &gt; BE, LA &gt; NW, TF &gt; BZ, RE &gt; FT, SS &gt; KK oraz UE &gt; XT. Jeszcze jedno klikniêcie na przycisk <B>Stwórz macierz</B> daje:</P>

<div class="indent">

<P><CODE>SEHR.GEEHRTE.DAMEN.UND.HERREN...EIN.ZIEMLICH.<BR>
GEHEIMER.<B>TE</B>**.BLEIBT.NICHT.IMMER.LANGE.GEHEIM..<BR>
MIT.FREUNDLICHEN.GRUESSEN</CODE></P>

</div>

<div style="text-align:center">

<TABLE cols=5 width="0*" class="pad10">

<TR VALIGN="top">
<TD>T</TD>
<TD>F</TD>
<TD>S</TD>
<TD>K</TD>
<TD>B</TD>
</TR>

<TR VALIGN="top">
<TD>U</TD>
<TD>Z</TD>
<TD>V</TD>
<TD>W</TD>
<TD>A</TD>
</TR>

<TR VALIGN="top">
<TD>X</TD>
<TD>D</TD>
<TD>M</TD>
<TD>L</TD>
<TD>N</TD>
</TR>

<TR VALIGN="top">
<TD>*</TD>
<TD>*</TD>
<TD>*</TD>
<TD>C</TD>
<TD>O</TD>
</TR>

<TR VALIGN="top">
<TD>E</TD>
<TD>R</TD>
<TD>G</TD>
<TD>H</TD>
<TD>I</TD>
</TR>
</TABLE><BR>

</div>

</div>

<P>Ostatecznie korygujemy <B><CODE>TE**</CODE></B> do <B><CODE>TEXT</CODE></B> co daje XT &gt; PU. Analiza Playfair daje nam macierz kluczy:</P>

<div style="text-align:center">

<TABLE cols=5 width="0*" class="pad10">

<TR VALIGN="top">
<TD>T</TD>
<TD>F</TD>
<TD>S</TD>
<TD>K</TD>
<TD>B</TD>
</TR>

<TR VALIGN="top">
<TD>U</TD>
<TD>Z</TD>
<TD>V</TD>
<TD>W</TD>
<TD>A</TD>
</TR>

<TR VALIGN="top">
<TD>X</TD>
<TD>D</TD>
<TD>M</TD>
<TD>L</TD>
<TD>N</TD>
</TR>

<TR VALIGN="top">
<TD>P</TD>
<TD>*</TD>
<TD>*</TD>
<TD>C</TD>
<TD>O</TD>
</TR>

<TR VALIGN="top">
<TD>E</TD>
<TD>R</TD>
<TD>G</TD>
<TD>H</TD>
<TD>I</TD>
</TR>
</TABLE><BR>

</div>

<P>Tekst jawny by³ oryginalnie zaszyfrowany kluczem <B><CODE>HIERGIBTESWASZUENTDECKEN</CODE></B> z nieaktywnymi opcjami <B>Format tekstu</B> oraz <B>Ignoruj duplikaty w kluczu</B>. Uda³o siê nam odzystaæ pe³en tekst jawny.</P>

</BODY>
</HTML>
