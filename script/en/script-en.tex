% $Id$
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\documentclass[a4paper,11pt,oneside]{book}
\overfullrule=5pt
\usepackage[latin1]{inputenc}
\DeclareTextSymbolDefault{\dh}{T1}
\DeclareTextSymbolDefault{\textperthousand}{T1}

\usepackage{datetime} % To distinguish often compiled draft versions

\setlength{\fboxrule}{.5mm}
\setlength{\fboxsep}{1.75mm}
\setlength{\footnotesep}{6pt}

\usepackage{amsmath}
\usepackage{amssymb,amscd,latexsym}   %BERM2: added for biciphers.tex
\usepackage{amsfonts}
\usepackage{amsthm}
\usepackage{color}

\usepackage{fancyvrb}
\usepackage{makeidx}
\usepackage[pdftex]{graphicx}
\usepackage{pdfpages}
\usepackage{paralist}
\usepackage{arydshln}
\usepackage{verse}

\usepackage[flushmargin]{footmisc}
\usepackage{fullpage}
\usepackage[hyphens]{url}
\appto\UrlBreaks{\do\a\do\b\do\c\do\d\do\e\do\f\do\g\do\h\do\i\do\j
\do\k\do\l\do\m\do\n\do\o\do\p\do\q\do\r\do\s\do\t\do\u\do\v\do\w
\do\x\do\y\do\z}

\usepackage[labelstoglobalaux]{bibunits}
%\bibliographyunit[\section] % bibunits für das ganze Dokument aktivieren
\defaultbibliography{references} % Why only in English version?
\defaultbibliographystyle{abbrv} % Why only in English version?

\usepackage{float}
\usepackage{subfig}
\usepackage{shorttoc}
\usepackage[colorlinks=true,linkcolor=black,citecolor=black,urlcolor=black,bookmarksnumbered=true,pdfpagelabels,plainpages=false,hyperfootnotes=false]{hyperref}

\floatstyle{boxed}
\newfloat{ctsquotefloat}{H}{loq}
\floatname{ctsquotefloat}{Quote}
\newenvironment{ctsquote}{\begin{ctsquotefloat}\center}{\end{ctsquotefloat}}
\floatstyle{ruled}

\newfloat{sagecode}{!ht}{loc}[chapter]
\floatname{sagecode}{SageMath sample}

\newfloat{cryptoprocedure}{!ht}{lop}[chapter]
\floatname{cryptoprocedure}{Crypto Procedure}


\makeindex
\hypersetup{colorlinks=true}

%\newcommand{\href}[2]{#2}
\newcommand{\hypertag}[2]{#1}
%\newcommand{\hyperlink}[2]{#2}
%\newcommand{\hypertarget}[2]{#2}

\newtheorem{definition}{Definition}[section]
\newtheorem{theorem}{Theorem}[section]
\renewenvironment{proof}[1]{\noindent\textbf{Proof #1} \\}{\hfill$\Box$\par}  %BERM: Instead of making AMS-Theorem a comment in order to have no redefinition of proof, used renewenvironment [proof used in moderncryptography.text and primes.text]. Necessary only in English!
\newenvironment{example}[1]{\noindent\textbf{Example#1}}{}
\newenvironment{remark}[1]{\noindent\textbf{Comment#1}}{}

\newenvironment{ Latex_Create-Closed-Dummy-Environ }{}{}

\setcounter{tocdepth}{4}
\setcounter{secnumdepth}{4}


% Define title ..............
\title{ % Keine Leerzeilen, sonst Meldung: "Paragraph ended before \title was complete."
	{\Huge The CrypTool Book \\[15pt]
         Cryptography, Mathematics, and More} \\[25pt]
	{\LARGE	Background reading for CrypTool\\ 
         the free e-learning crypto program \\[5pt]
	 (with code samples written in SageMath)} \\[25pt]
	{\large 12th edition -- draft version (\settimeformat{hhmmsstime}\currenttime)}
	% {\large 12th edition}
        \vspace{180pt}
}

\author{
        {\LARGE Prof.\ Bernhard Esslinger (co-author and editor)}\\[10pt]
        {\LARGE and the CrypTool Team, 1998-2016}\\[10pt]
        {\LARGE Frankfurt am Main, Germany} \\*[15pt]
        \url{www.cryptool.org}
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}
\VerbatimFootnotes

% \includepdf[pages=1]{figures/coverv1_en-300dpi.pdf}
% \includepdf[pages=1]{figures/coverv1_en.pdf}
\includepdf[pages=1]{figures/coverv1_en_draft.pdf}

\frontmatter

\pagestyle{plain}
\setlength{\fboxrule}{.5mm}
\setlength{\fboxsep}{1.75mm}
\setlength{\footnotesep}{6pt}
\addtolength{\footskip}{8pt}

\renewcommand\footnoterule{%
  \vspace{2em}
  \hrule width .4\columnwidth
 \vspace{4pt}
}

\maketitle


\begin{quote}
This is a free document, so the content of the document can
be copied and distributed, also for commercial purposes --- as long as
the authors, title and the CrypTool web site (\url{www.cryptool.org})
are acknowledged. Naturally, citations from the CrypTool script are
possible, as in all other documents.\\
Additionally, this document is liable to the specific license of the
GNU Free Documentation Licence.

    Copyright \copyright{} 1998--2016 Bernhard Esslinger and the
    CrypTool Team. Permission is granted to copy,
    distribute and/or modify this document under the terms of the GNU
    Free Documentation License, Version 1.3 or any later version
    published by the Free Software Foundation. A copy of
    the license is included in the section entitled
    \hyperlink{appendix-GNU-fdl}{``GNU Free Documentation License''}.

    This also includes the code of the SageMath samples in this document.
\end{quote}

\vspace{420pt}
\noindent
Source cover photograph: \url{www.photocase.com}, Andre Guenther\\
Typesetting software: \LaTeX\\
Version control software: Subversion


\input{chapters/aboutcryptool.tex}

\newpage
\pdfbookmark[0]{Contents Overview}{ShortContents}
\shorttoc{Contents Overview}{0}
\clearpage\phantomsection
\pdfbookmark[0]{\contentsname}{Contents}
\tableofcontents 

\newpage
\normalsize

\newcounter{mycounterDefaultParskip}
\setcounter{mycounterDefaultParskip}{4}
\parskip \value{mycounterDefaultParskip} pt 


\input{chapters/introduction.tex}
\mainmatter
\input{chapters/cryptomethods.tex}
\input{chapters/paper_and_pencil.tex}
\input{chapters/primes.tex}
\input{chapters/numbertheory.tex}
\input{chapters/moderncryptography.tex}
\input{chapters/digitalsignatures.tex}
\input{chapters/ellipticcurves.tex}
\input{chapters/bitciphers.tex}
\input{chapters/homomorphicencryption.tex}
\bibliographyunit[\chapter]
\bibliography*{../de/references}
\bibliographystyle*{plain}
\input{chapters/crypto2020.tex}
\bibliographyunit


% ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
\begin{appendix}
\newpage
\hypertarget{appendix-start}{}\label{s:appendix-start}
\chapter{Appendix}
    \begin{itemize}
      \item[1] \hyperlink{appendix-menu-overview-CT1}{CrypTool 1 Menu Tree}
      \item[2] \hyperlink{appendix-template-overview-CT2}{CrypTool 2 Templates}
      \item[3] \hyperlink{appendix-function-overview-JCT}{JCrypTool Functions}
      \item[4] \hyperlink{appendix-function-overview-CTO}{CrypTool-Online Functions}
      \item[5] \hyperlink{appendix-authors}{Bibliography of Movies and
                     Fictional Literature with Relation to Cryptography}
      \item[6] \hyperlink{appendix-Learn-NT}
                     {Learning Tool for Elementary Number Theory}
      \item[7] \hyperlink{appendix-using-sage}
                     {Short Introduction into the Computer Algebra System SageMath}
      \item[8] \hyperlink{appendix-authors}{Authors of the CrypTool Script}
    \end{itemize}
  \newpage
  \input{chapters/menus.tex}
  \input{chapters/movies.tex}
  \input{chapters/what-is-sage.tex}
  \input{chapters/authors.tex}
\end{appendix}

\input{chapters/gnu-fdl-1.3.tex}

% ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
\begingroup
  %\setlength{\parskip}{0pt}
  \renewcommand*{\addvspace}[1]{}

  \clearpage\phantomsection
  \addcontentsline{toc}{chapter}{\listfigurename}
  \listoffigures

  \clearpage\phantomsection
  \addcontentsline{toc}{chapter}{\listtablename}
  \listoftables

  \clearpage\phantomsection
  \addcontentsline{toc}{chapter}{List of Crypto Procedures with Pseudo Code}
  \listof{cryptoprocedure}{List of Crypto Procedures with Pseudo Code}
\endgroup


\clearpage\phantomsection
\addcontentsline{toc}{chapter}{List of Quotes}
\listof{ctsquotefloat}{List of Quotes}
\index{Quotes}
\label{sc:List-of-Quotes}


\clearpage\phantomsection
\addcontentsline{toc}{chapter}{List of SageMath Code Examples}
\listof{sagecode}{List of SageMath Code Examples}
\index{SageMath!code examples}
\label{sc:List-of-Sage-Code-Examples}

\vspace{30pt}
\begin{itemize}
  \item The source code of the SageMath samples in this script is delivered as
        SageMath program files within the CrypTool-1 setup program.
        All samples within one chapter are collected in one file.
        After installing CrypTool 1 \index{CrypTool 1} you find
        the SageMath samples within the subdirectory \verb#sagemath# in the
        following 4 files:\\
        - SageMath-Samples-in-Chap01.sage \\
        - SageMath-Samples-in-Chap02.sage \\
        - SageMath-Samples-in-Chap03.sage \\
        - SageMath-Samples-in-Chap04.sage
  \item All samples have been tested with SageMath Version 5.3 (Release Date 2012-09-08)xxxxxxxxxxxxxxxxxxxxxxxxxxx.
\end{itemize}


\clearpage\phantomsection
\addcontentsline{toc}{chapter}{Index}
\printindex

\newpage
\newpage

\end{document}
