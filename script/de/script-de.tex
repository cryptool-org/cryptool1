% $Id$
% ............................................................................
%      MAIN or STARTING file for this document.
%
%      Add (lengthy) comment only into this German version!
%
% ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

\documentclass[a4paper,11pt,oneside]{book}
\overfullrule=5pt % uncomment to mark overfull boxes
\usepackage[latin1]{inputenc} % Umlaute  %%BERM2: Added for biciphers.tex (necessary any more?)
\usepackage[german]{babel} % TODO: ngerman (für neue dt. Rechtschreibung) führte zu Compiliationsfehler
%\usepackage[T1]{fontenc} %BERM2: biciphers.tex used T1.
                          % Ohne T1 wurden dort \dh und \textperthousand nicht erkannt.
                          % Die Hinzunahme von T1 (soll eigentlich Umbrüche verbessern),
                          % erzeugt aber ein paar zusätzliche schwarze Balken (z.B. bei
                          % "Der DES-Algorithmus ist" in cryptomethods.text im Deutschen,
                          % und bei der Trennung von "straddling checker-board" in 2.2.1 im Englischen.
% Statt T1 als Package zu inkludieren, nur die wirklich benötigten Sonderzeichen definiert.
\DeclareTextSymbolDefault{\dh}{T1}
\DeclareTextSymbolDefault{\textperthousand}{T1}

\usepackage{datetime} % To distinguish often compiled draft versions
% \usepackage[dvips]{graphics}
% \usepackage{graphicx}

\usepackage{amsmath}
\usepackage{amssymb,amscd,latexsym}   %BERM2: added for biciphers.tex
\usepackage{amsfonts}
\usepackage{amsthm}
\usepackage{color}   %BERM2: added for biciphers.tex

\usepackage{fancyvrb}
\usepackage{makeidx}  % Alternativ evtl. \usepackage{imakeidx} (bemerkte keinen Unterschied)
\usepackage[pdftex]{graphicx}
\usepackage{pdfpages}   % SR_2009: added new cover
%\usepackage{enumitem} %BE_2012: eliminate space after end{itemize} didn't work
\usepackage{paralist}  %BE_2012: eliminate space after end{itemize} worked with compactitem
\usepackage{arydshln} %BE_Jan2013: To use hdashline
\usepackage{verse}    %BE_Feb2013: To use \settowidth{\versewidth}{xxx}

%\usepackage{myThanks}
%\usepackage{thumbpdf}
%\usepackage[T1]{fontenc}
%\usepackage{times}
%\usepackage{pslatex}
%\usepackage{ae,aecompl}

% Formatierung der Fußnoten
\usepackage[flushmargin]{footmisc}
\usepackage{fullpage}
\usepackage[hyphens]{url} % options "hyphens" enables linebreaks nach Bindestrich in \url{}
\appto\UrlBreaks{\do\a\do\b\do\c\do\d\do\e\do\f\do\g\do\h\do\i\do\j
\do\k\do\l\do\m\do\n\do\o\do\p\do\q\do\r\do\s\do\t\do\u\do\v\do\w
\do\x\do\y\do\z}  % Trennung in langen URLs nach jedem Kleinbuchstaben möglich.

% Literaturverzeichnis kapitelweise
\usepackage[labelstoglobalaux]{bibunits} % ohne labelstoglobalaux scheint man thebibilograpy und bibtex nicht mischen zu können

\usepackage{float}
\usepackage{subfig}
\usepackage{shorttoc}
\usepackage[colorlinks=true,linkcolor=black,citecolor=black,urlcolor=black,bookmarksnumbered=true,pdfpagelabels,plainpages=false,hyperfootnotes=false]{hyperref}
%To reduce the number of hyperlink related 'pdfTeX warning's we use options 
% pdfpagelabels, plainpages=false and, hyperfootnotes=false,
% and place hyperref after float and after mykeidx!
%Option debug helps finding problems.

\floatstyle{boxed}  % This is necessary to have borders around the Zitate.
                    % After the ctsquote def overruled by \floatstyle{ruled} ?
\newfloat{ctsquotefloat}{H}{loq}   % ctsQuotes-from-Books, List-of-Quotes
\floatname{ctsquotefloat}{Zitat}   % ctsQuotes with centering
\newenvironment{ctsquote}{\begin{ctsquotefloat}\center}{\end{ctsquotefloat}}
\floatstyle{ruled}

\newfloat{sagecode}{!ht}{loc}[chapter]
\floatname{sagecode}{SageMath-Beispiel}

\newfloat{cryptoprocedure}{!ht}{lop}[chapter]
\floatname{cryptoprocedure}{Krypto-Verfahren}


\makeindex
\hypersetup{colorlinks=true}

%\newlength{\myFootnoteWidth}
%\newlength{\myFootnoteLabel}
%\setlength{\myFootnoteLabel}{2.2em}%  <-- can be changed to any valid value

% \setlength{\textwidth}{460 pt}
% \hoffset-0.7in
\newtheorem{definition}{Definition}[section]
\newtheorem{satz}{Satz}[section]
\newenvironment{Beweis}[1]{\noindent\textbf{Beweis #1} \\}{\hfill$\Box$\par}
\newenvironment{example}[1]{\noindent\textbf{Beispiel#1}}{}
\newenvironment{remark}[1]{\noindent\textbf{Bemerkung#1}}{}

% \newenvironment{ Latex_Create-Closed-Dummy-Environ }{beg09asas} {endasas}
% \begin{ Latex_Create-Closed-Dummy-Environ }
%	TR (this line can be omitted!)
% \end{ Latex_Create-Closed-Dummy-Environ }
% OUTPUT: beg09asas TR endasas
% The commands which don't effect anything outside the environment have to be between begin and end.
% -- analog zu
% \newenvironment{ dummerspruch }[1]{#1 sagt: \begin{quote}}{\end{quote}}
% \begin{ dummerspruch }[ Gollum ]
% My precioussss !
% \end{ dummerspruch }
\newenvironment{ Latex_Create-Closed-Dummy-Environ }{}{}

\setcounter{tocdepth}{4}    % Das Inhaltsverzeichnis wird vier Ebenen tief (Default ist 3)
\setcounter{secnumdepth}{4} % Nummerierung auch bei subsubsection

%\pdfinfo{ /Title (CrypTool-Skript) /Creator (TeX) /Producer
%(pdfTeX 0.14a) /Author /CreationDate
%(D:20000920201000) } ???????????????




% Define title ......................
% \title{ % Keine Leerzeilen, sonst Meldung: "Paragraph ended before \title was complete."
%\title{\vspace{25pt}%SO bekam ich leider VOR dem Titel keinen Abstand nach oben
\title{%
% be_Wished to enlarge only the main title, however \HUGE not available,
%    or \HUGE without any effect beside adding \usepackage[11pt]{moresize}
%    and explicit use of \fontsize caused the LaTeX Font Warning:
%    Font shape `OT1/cmr/m/n' in size <40> not available size <24.88> substituted on input line 130.
%    {\usefont{\encodingdefault}{\rmdefault}{b}{n}%
%     \fontsize{40}{48} \selectfont Das CrypTool-Buch}
%    {\fontsize{40}{48} \selectfont Das CrypTool-Buch} \\[15pt]
%    {\HUGE Das CrypTool-Buch} \\[15pt]
% --> Später: Use the KOMA-script class or the memoir class (erfordert aber andere \documentclass)
%    http://texblog.org/2012/08/29/changing-the-font-size-in-latex/
%	{\Huge ~ \\[20pt]%NUR SO bekam ich VOR dem Titel noch etwas mehr Abstand nach oben
% 	       Das CrypTool-Buch:\\[20pt]
	{\Huge Das CrypTool-Buch:\\[20pt]
	       Kryptographie lernen und anwenden\\[15pt]
               mit CrypTool und SageMath} \\[25pt]
	{\LARGE Hintergrundmaterial und Zusatzinformationen\\
	 zum freien E-Learning Krypto-Programm CrypTool\\[5pt]
	 (Kryptographie, Mathematik und mehr)} \\[25pt]
	%{\large 12. Auflage}
	{\large 12. Auflage -- Draft-Version (\settimeformat{hhmmsstime}\currenttime)}
        \vspace{110pt}
	% War der \vspace-Wert zu groß (z.B. 180), kam nach dem Cover eine
	% komplett leere Seite und auf der von \maketitle erstellten 3. Seite
	% stand die Seitennummer II ?
	% Zusätzlich stand auf der Seite "Dies ist ein freies ..." wieder eine
	% römische I ?  D.h. er begann zweimal von vorne!
}

\author{% Die Klammer zur Fontänderung funktioniert bei \author nur einzeilig im Gegensatz zu \title?!
	{\LARGE Prof.\ Bernhard Esslinger (Mitautor und Herausgeber)}\\[10pt]
	{\LARGE und das CrypTool-Team, 1998-2016}\\[10pt]
	{\LARGE Frankfurt am Main}\\*[15pt]
	\url{www.cryptool.org}
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{document}

% \includepdf[pages=1]{figures/coverv1_de_draft.pdf}
% \includepdf[pages=1]{figures/coverv1_de-300dpi.pdf}
% \includepdf[pages=1]{figures/coverv1_de.pdf}
\includepdf[pages=1]{figures/coverv1_de.png}

\pagestyle{plain}
\setlength{\fboxrule}{.5mm}
\setlength{\fboxsep}{1.75mm}
\setlength{\footnotesep}{6pt}
\addtolength{\footskip}{8pt}
% \setlength{\footskip}{4cm}

\VerbatimFootnotes
% space between text and footnote 
% \renewcommand{\footnoterule}{\parindent0cm\rule{13cm}{.1pt}\vspace{.2cm}}
% Formatierung der Fußnoten
\renewcommand\footnoterule{
\vspace{2em}%   <-- one line space between text and footnoterule
% \kern-3\p@
\hrule width .4\columnwidth
\vspace{4pt}
% kern 2.6\p@
}

%\long\def\@makefntext#1{%
%\parindent 1em%
%\noindent
%\hbox to 1.8em{\hss\@makefnmark}#1}


\frontmatter % Ab hier beginnt Seitennummerierung mit römischen Ziffern
\maketitle


% Vergleichbar zur Nutzung von Texten aus der Wikipedia (=GNU Free Documentation Licence, GFDL)
\begin{quote}
Dies ist ein freies Dokument, d.h. Inhalte des Dokuments können kopiert und
verbreitet werden, auch zu kommerziellen Zwecken. \\
Im Gegenzug sind Autor, Titel und die CrypTool-Webseite (www.cryptool.org) zu
nennen. Selbstverständlich darf aus dem CrypTool-Skript, genau wie aus jedem
anderen Werk auch, zitiert werden. \\
Darüber hinaus unterliegt dieses Dokument der GNU-Lizenz für freie
Dokumentation.

    Copyright \copyright{} 1998--2016 Bernhard Esslinger and the
    CrypTool Team. Permission is granted to copy,
    distribute and/or modify this document under the terms of the GNU
    Free Documentation License, Version 1.3 or any later version
    published by the Free Software Foundation. A copy of
    the license is included in the section entitled
    \hyperlink{appendix-GNU-fdl}{``GNU Free Documentation License''}.

    Dies beinhaltet auch den Code für die SageMath-Beispiele in diesem Dokument.
\end{quote}

\vspace{420pt}
\noindent
Quelle Coverfoto: \url{www.photocase.com}, Andre Günther\\
Schriftsatz-Software: \LaTeX\\
Versionsverwaltungs-Software: Subversion


% be_2005: a) Auf erste Seite nur den Titel ! -> Newpage eingefügt.
%          b) "aboutcryptool.tex" hier und nicht unten vor "introduction.tex"
%             einfügen, damit es VOR dem Inhaltsverzeichnis steht.
\input{chapters/aboutcryptool.tex} % Überblick über den Inhalt des CT-Buches


\newpage
\pdfbookmark[0]{Kurzinhaltsverzeichnis}{ShortContents}
\shorttoc{Kurzinhaltsverzeichnis}{0}
\clearpage\phantomsection
\pdfbookmark[0]{\contentsname}{Contents}
\tableofcontents

\newpage
\normalsize

% \parindent 0cm
% \parskip 4pt
% Setting the default for the vertical distance before a paragraph as distinguished variable
\newcounter{mycounterDefaultParskip}
\setcounter{mycounterDefaultParskip}{4}
\parskip \value{mycounterDefaultParskip} pt 


\input{chapters/introduction.tex} % Working together of Book and Programm 

\mainmatter % Ab hier beginnt Seitennummerierung mit arabischen Ziffern
\input{chapters/cryptomethods.tex}
\input{chapters/paper_and_pencil.tex}
\input{chapters/primes.tex}
\input{chapters/numbertheory.tex}
\input{chapters/moderncryptography.tex}
\input{chapters/digitalsignatures.tex}
\input{chapters/ellipticcurves.tex}
\input{chapters/bitciphers.tex}
\input{chapters/homomorphicencryption.tex}
\bibliographyunit[\chapter]
\bibliography*{references}
\bibliographystyle*{plain}
\input{chapters/crypto2020.tex}
\bibliographyunit


% ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
\begin{appendix}
\newpage
\hypertarget{appendix-start}{}\label{s:appendix-start}
\chapter{Anhang}
    \begin{itemize}
      \item[1] \hyperlink{appendix-menu-overview-CT1}{CrypTool-1-Menübaum}
      \item[2] \hyperlink{appendix-template-overview-CT2}{CrypTool-2-Vorlagen}
      \item[3] \hyperlink{appendix-function-overview-JCT}{JCrypTool-Funktionen}
      \item[4] \hyperlink{appendix-function-overview-CTO}{CrypTool-Online-Funktionen}
      \item[5] \hyperlink{appendix-movies}{Filme und belletristische
                          Literatur mit Bezug zur Kryptographie}
      \item[6] \hyperlink{appendix-Learn-NT}
                         {Lernprogramm Elementare Zahlentheorie}
      \item[7] \hyperlink{appendix-using-sage}
                         {Kurzeinführung in das Computer-Algebra-System SageMath}
      \item[8] \hyperlink{appendix-authors}{Autoren des CrypTool-Skripts}
    \end{itemize}
  \input{chapters/menus.tex}
  \input{chapters/movies.tex}
  \input{chapters/what-is-sage.tex}
  \input{chapters/authors.tex}
\end{appendix}

\input{chapters/gnu-fdl-1.3.tex}


% ++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
\begingroup
  % remove extra vertical space from \listoffigure and \listoftables so that 
  % it looks similar to \listof{sagecode}
  \setlength{\parskip}{0pt}

  \clearpage\phantomsection
  \addcontentsline{toc}{chapter}{\listfigurename}
  \listoffigures

  \clearpage\phantomsection
  \addcontentsline{toc}{chapter}{\listtablename}
  \listoftables

  \clearpage\phantomsection
  \addcontentsline{toc}{chapter}{Verzeichnis der Krypto-Verfahren mit Pseudocode}
  \listof{cryptoprocedure}{Verzeichnis der Krypto-Verfahren mit Pseudocode}
\endgroup


\clearpage\phantomsection
\addcontentsline{toc}{chapter}{Verzeichnis der Zitate}
\listof{ctsquotefloat}{Verzeichnis der Zitate}
\index{Zitate}
\label{sc:List-of-Quotes}


\clearpage\phantomsection
\addcontentsline{toc}{chapter}{Verzeichnis der SageMath-Programmbeispiele}
\listof{sagecode}{Verzeichnis der SageMath-Programmbeispiele}
\index{SageMath!Programmbeispiele}
\label{sc:List-of-Sage-Code-Examples}
% \hypertarget{sc:List-of-Sage-Code-Examples}{}

\vspace{30pt}
\begin{itemize}
  \item Der Quellcode der SageMath-Beispiele in diesem Skript wird in Form von
        SageMath-Programmdatei"-en mit dem CrypTool 1-Setup-Programm ausgeliefert.
        Die Beispiele in einem Kapitel sind jeweils in einer Datei zusammen gefasst.\\
        Nach der Installation von CrypTool 1 \index{CrypTool 1} finden Sie
        die SageMath-Beispiele im Unterverzeichnis \verb#sagemath# in den folgenden
        4 Dateien:\\
        - SageMath-Samples-in-Chap01.sage \\
        - SageMath-Samples-in-Chap02.sage \\
        - SageMath-Samples-in-Chap03.sage \\
        - SageMath-Samples-in-Chap04.sage
  \item Alle Beispiel wurden mit der SageMath-Version 5.3 (Release Date 2012-09-08) xxxxxxxxxxxxxxxxxxxx  getestet.
\end{itemize}   % xxxxxxxxxxxxxx Weitere Beispiele ergänzen !


\clearpage\phantomsection
\addcontentsline{toc}{chapter}{Index}
\printindex

\newpage %Nice-to-have-TODO_Doesn't seem to create an empty page at the end.
\newpage

\end{document}


